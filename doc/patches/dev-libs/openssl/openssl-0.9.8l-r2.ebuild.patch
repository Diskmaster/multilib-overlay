--- /usr/portage/dev-libs/openssl/openssl-0.9.8l-r2.ebuild	2010-02-15 08:05:28.000000000 +0100
+++ ./dev-libs/openssl/openssl-0.9.8l-r2.ebuild	2010-04-02 18:50:38.000000000 +0200
@@ -22,10 +22,7 @@
 	test? ( sys-devel/bc )"
 PDEPEND="app-misc/ca-certificates"
 
-src_unpack() {
-	unpack ${A}
-	cd "${S}"
-
+src_prepare() {
 	epatch "${FILESDIR}"/${PN}-0.9.7e-gentoo.patch
 	epatch "${FILESDIR}"/${PN}-0.9.8j-parallel-build.patch
 	epatch "${FILESDIR}"/${PN}-0.9.8-make-engines-dir.patch
@@ -75,7 +72,7 @@
 	./config --test-sanity || die "I AM NOT SANE"
 }
 
-src_compile() {
+src_configure() {
 	unset APPS #197996
 
 	tc-export CC AR RANLIB
@@ -127,7 +124,9 @@
 		-e "/^CFLAG/s:=.*:=${CFLAG} ${CFLAGS}:" \
 		-e "/^SHARED_LDFLAGS=/s:$: ${LDFLAGS}:" \
 		Makefile || die
+}
 
+src_compile() {
 	# depend is needed to use $confopts
 	# rehash is needed to prep the certs/ dir
 	emake -j1 depend || die "depend failed"
