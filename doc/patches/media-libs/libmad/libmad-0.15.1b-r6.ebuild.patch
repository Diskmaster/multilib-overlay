--- /auto/portage/media-libs/libmad/libmad-0.15.1b-r6.ebuild	2010-10-26 05:36:09.000000000 -0400
+++ ./media-libs/libmad/libmad-0.15.1b-r6.ebuild	2010-11-23 13:09:26.291926802 -0500
@@ -15,10 +15,7 @@
 
 DEPEND=""
 
-src_unpack() {
-	unpack ${A}
-	cd "${S}"
-
+src_prepare() {
 	epatch "${FILESDIR}"/libmad-0.15.1b-cflags.patch
 	epatch "${FILESDIR}"/libmad-0.15.1b-cflags-O2.patch
 	epatch "${FILESDIR}"/libmad-0.15.1b-gcc44-mips-h-constraint-removal.patch
@@ -29,7 +26,7 @@
 	epunt_cxx #74490
 }
 
-src_compile() {
+src_configure() {
 	local myconf="--enable-accuracy"
 	# --enable-speed		 optimize for speed over accuracy
 	# --enable-accuracy		 optimize for accuracy over speed
@@ -48,7 +45,6 @@
 	econf \
 		$(use_enable debug debugging) \
 		${myconf} || die "configure failed"
-	emake || die "make failed"
 }
 
 src_install() {
