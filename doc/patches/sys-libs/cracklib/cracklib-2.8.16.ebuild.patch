--- /usr/portage/sys-libs/cracklib/cracklib-2.8.16.ebuild	2010-04-30 15:02:14.000000000 +0200
+++ ./sys-libs/cracklib/cracklib-2.8.16.ebuild	2010-05-02 17:05:56.000000000 +0200
@@ -27,21 +27,18 @@
 	fi
 }
 
-src_unpack() {
-	unpack ${A}
-	cd "${S}"
+src_prepare() {
 	epatch "${FILESDIR}"/${PN}-2.8.13-python-linkage.patch #246747
 	sed -i '/PYTHON/s:\(print\) \([^"]*\):\1(\2):' configure #302908
 	elibtoolize #269003
 }
 
-src_compile() {
+src_configure() {
 	econf \
 		--with-default-dict='$(libdir)/cracklib_dict' \
 		$(use_enable nls) \
 		$(use_with python) \
 		|| die
-	emake || die
 }
 
 src_install() {
